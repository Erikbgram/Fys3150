\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[norsk,english]{babel}   %norsk først så engelsk, så engelsk blir prioritert
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{multicol}
%\usepackage{blindtext} %Automatically generates dummy text.
%\usepackage[margin=2.0cm]{geometry}

%Definerer hyperlinker og dens farger
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=blue,
    urlcolor=blue
}

%-----------------------------------

%Definerer farger til kodeeksemplene i PDF-en
\usepackage{color}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}

%------------------------------------

\setlength{\parindent}{0pt}
%\setlength{\columnsep}{5mm} %column separation
\setlength{\columnsep}{10mm}

\setlength{\tabcolsep}{18pt}
\renewcommand{\arraystretch}{1.5}

\iffalse
If you want to change this temporarily, you can write:
\savegeometry{mydefaultgeometry}
\newgeometry{margin=3in}
And then later you can call:
\loadgeometry{mydefaultgeometry}
\fi

\begin{document}

\addtocounter{page}{0}

\title{Project 2 \\
      \large For the course FYS3150}
\date{\today \\
    \vspace{1mm}
    \large Week 37 - 40}

\author{Erik Grammeltvedt, Erlend Tiberg North and Alexandra Jahr Kolstad}

\maketitle

%------------Her starter skrivingen-----------------------------------------
\vspace{1cm}

\tableofcontents

\vspace{1cm}

%\begin{multicols}{2}


\iffalse
\begin{wrapfigure}{l}{0.7\linewidth}
\includegraphics[width=\linewidth]{./lion-logo.jpg}
\caption{This is the former Share\LaTeX{} logo}
\end{wrapfigure}
\fi


%\Blindtext

%\newpage

%----------Abstract-------------------------------

\vspace{30cm}

%\clearpage %???????????????????????????

\vspace{1cm}

\section{Abstract} \label{sec:Abstract}

\clearpage

bla bla bla bla bla bla bla


%--------------Introduction------------------------------
\vspace{1cm}

\section{Introduction} \label{sec:Introduction}


All programs are found at our \href{https://github.com/Erikbgram/Fys3150}{GitHub-repository}. \\


%---------------Method------------------------------------
\vspace{1cm}

\section{Method} \label{sec:Method}



\subsection{Exercise a)} \label{sec:Method a)}

In this exercise we are going to prove that $\vec{w}_i = U \vec{v}_i$ is an orthogonal or unitary transformation that preserves the dot product and orthogonality. We start by multiplying $\vec{w}_j ^T$ with $\vec{w}_i$ to take the vector product, also called the dot product. If the vector product of these vectors is equal to $\delta_{ij}$, given by $\vec{v}_j ^T \vec{v}_i = \delta_{ij}$ in the exercise, then the dot product and orthogonality is preserved. In this exercise we assume that $U^T U = I$, where $I$ is the identity matrix, because this defines a unitary matrix $U$ which we compute with in this exercise. \\

The vector product is calculated as followed:

\begin{align*}
  \vec{w}_j ^T \vec{w}_i &= (U \vec{v})^T U \vec{v}_i \\
  &= \vec{v}_j ^T U^T U \vec{v}_i \\
  &= \vec{v}_j ^T \vec{v}_i \\
  &= \delta _{ij}
\end{align*}

The vector product of $\vec{w}_j ^T$ and $\vec{w}_i$ is $\delta_{ij}$, which proves that the dot product and orthogonality is preserved for the transformation.


\subsection{Exercise b)} \label{sec:Method b)}

  \subsubsection{Calculations} \label{sec:Calculations b)}

  In this prject we compute with a symmetric matrix, similar to the matrix \textbf{A} in project 1. This matrix is given by the matrix equation

    \begin{equation*} \label{eq:fullmatrixeq}
      \begin{bmatrix}
        d & a & 0 & \dots & 0 & 0 \\
        a & d & a & \dots & 0 & 0 \\
        0 & a & d & \dots & 0 & 0 \\
        \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
        0 & 0 & 0 & a & d & a \\
        0 & 0 & 0 & 0 & a & d \\
      \end{bmatrix}
      \begin{bmatrix}
        u_1 \\
        u_2 \\
        u_3 \\
        \vdots \\
        u_{N-2} \\
        u_{N-1} \\
      \end{bmatrix}
      = \lambda
      \begin{bmatrix}
        u_1 \\
        u_2 \\
        u_3 \\
        \vdots \\
        u_{N-2} \\
        u_{N-1} \\
      \end{bmatrix}
    \end{equation*} \\

where $d = \frac{2}{h^2}$ and $a = - \frac{1}{h^2}$. \textbf{still correct??} \\

$\lambda$ are eigenvalues given by the equation

\begin{equation*}
    \lambda_j = d + 2a \cos \left( \frac{j \pi }{N + 1} \right)
\end{equation*}

given for $ j = 1, 2, ..., N$.


%--------------------

\textbf{Skal kommentere noe for egenverdi og egenvektor?}

  \subsubsection{The programming}

Commenting the code \texttt{jacobimethod.cpp}.  OBS. \\

The program starts with defining a function for finding the max values of the off-diagonal elements. This is the function \texttt{offdiag}, which is taken from the lecture notes. The same applies for the function \texttt{Jacobi\_rotate}. \texttt{Jacobi\_rotate} is the function for rotating and computing the matrix. It calculates the equation

\begin{equation*}
    \textbf{B} = \textbf{S}^T A \textbf{S}
\end{equation*}

for finding the diagonal matrix with the eigenvalues of the matrix \textbf{A}. It also computes the eigenvectors, and stores them in a matrix \textbf{R}. \\

In the main function we define the matrix \textbf{A} given by the constants $d$ and $a$. See \ref{sec:Calculations b)} for the definitions of the matrix. Then the clock is set to start, and it times how long the armadillo \\

\textbf{Skal egentlig kommentere dette?????} \\

The number of similarity transformations needed to reach the desired matrix depends on the dimension $n$. For instance a run of our matrix \textbf{A} given as a $(10 \times 10)$ matrix, there are 154 transformations needed. This number is only exact for this specific run, as it will change for any changes to the matrix, both size and elements. \\

In the lecture notes it states that for the Jacobi method there is no way to predict the number of transformations needed. See this \href{http://compphysics.github.io/ComputationalPhysics/doc/pub/eigvalues/html/eigvalues.html}{file} under \textit{Discussion for Householder's method for eigenvalues}. \textbf{Riktig??} \\




%-------------------------------------------

\vspace{3cm}

Må vente litt med å kommentere dette

Koden bruker lengre tid både fordi matrisen er større, slik at det er mer å rotere og fordi den må
utføre flere iterasjoner.




\subsection{Exercise c)} \label{sec:Method c)}

  \subsubsection{Calculations}




  \subsubsection{The programming}




\subsection{Exercise d)} \label{sec:Method d)}

  \subsubsection{Calculations}




  \subsubsection{The programming}



\subsection{Exercise e)} \label{sec:Method e)}


  \subsubsection{Calculations}




  \subsubsection{The programming}





%--------------Results and discussion------------------------------
\vspace{1cm}

\section{Results and discussion} \label{sec:Results}

  Our results are as shown in the \nameref{sec:Appendix}. We also have \texttt{.txt}-files for all the raw data generated by the projects up on \href{https://github.com/Erikbgram/Fys3150}{GitHub}. \\

  \subsection{Exercise a)} \label{sec:Results a)}



  \subsection{Exercise b)} \label{sec:Results b)}



  \subsection{Exercise c)} \label{sec:Results c)}



\iffalse
  \begin{lstlisting}[language=C++]
    std::cout << "index, value\n";
  for(int i = 0; i < n; i++){
      std::cout << "    " << i << ", " << d_new[i] << std::endl;
  }
  \end{lstlisting}
\fi


\iffalse
  \begin{verbatim}
index, value
    0, 2
    1, 1.5
    2, 1.33333
    3, 1.25
    4, 1.2
    5, 1.16667
    6, 1.14286
    7, 1.125
    8, 1.11111
    9, 1.1
index, value
    0, 2
    1, 2
    2, 1.5
    3, 1.33333
    4, 1.25
    5, 1.2
    6, 1.16667
    7, 1.14286
    8, 1.125
    9, 1.11111
  \end{verbatim}
\fi


  \subsection{Exercise d)} \label{sec:Results d)}




  \subsection{Exercise e)} \label{sec:Results e)}




\iffalse
  \begin{table}[ht] \label{tab:exec_time}
    \centering
      \caption{Execution time for the two methods.}
      \vspace{2mm}
      \begin{tabular}{|c|c|c|}
        \hline
        $n$    &   Tridiagonal      &  LU-Decomposition  \\
        \hline \hline
        10   & $2.00\cdot10^{-7}$ & $3.17\cdot10^{-4}$ \\
        100  & $1,40\cdot10^{-6}$ & $1.40\cdot10^{-3}$ \\
        1000 & $1.44\cdot10^{-5}$ & $3.36\cdot10^{-2}$ \\
        \hline
      \end{tabular} \\
      \hspace{0pt}\\
  \end{table}
\fi


%---------------Conclusion and perspective---------------------------
\vspace{1cm}

\section{Conclusion and perspective} \label{sec:Conclusion}



%--------------Appendix---------------------------------------------
\vspace{1cm}

\section{Appendix} \label{sec:Appendix}

\begin{figure}[ht]
	\centering
	\includegraphics[width = 11cm]{iterations-stats.png}
	\caption{The plot of iterations for the Jacobi method as function of the dimension $n$ of the matrix \textbf{A}. }
  \label{fig:iterationspng}
\end{figure}


\begin{figure}[ht]
	\centering
	\includegraphics[width = 11cm]{timespan-stats.png}
	\caption{The plot of the time the function \texttt{eig\_sym} from Armadillo uses and the time Jacobi method uses as functions of the dimension $n$ if the matrix \textbf{A}. }
  \label{fig:timespanpng}
\end{figure}



\clearpage

%----------------Refrences----------------------------------------
\vspace{1cm}

\section{References} \label{sec:References}


\href{https://github.com/CompPhysics/ComputationalPhysics/blob/master/doc/Projects/2019/Project2/pdf/Project2.pdf}{Link to the PDF for Project 2}. \\

\href{https://github.com/Erikbgram/Fys3150}{Our GitHub-repository}. \\

\href{https://github.com/CompPhysics/ComputationalPhysics/blob/master/doc/Lectures/lectures2015.pdf}{Link to lecture slides in FYS3150 - Computational Physics}.






%----------------Slutten av dokumentet---------------------------------------



%\end{multicols}

\end{document}
