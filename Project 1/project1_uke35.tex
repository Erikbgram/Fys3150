\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[norsk,english]{babel}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=blue,
    urlcolor=black
}

\setlength{\parindent}{0pt}

\setlength{\tabcolsep}{18pt}
\renewcommand{\arraystretch}{1.5}

%\newcounter{sectioncounter}
%\newenvironment{sections}[1][]{\addtocounter{sectioncounter}{1} \noindent {\bf \Large \arabic{sectioncounter} \ \ #1}\hspace{2mm}}{\vspace{4mm}}

\begin{document}

\addtocounter{page}{0}

\title{Project 1 \\
      \large For the course FYS3150}
\date{\today \\
    \vspace{1mm}
    \large Week 35-37}

\author{Erik Grammeltvedt, Erlend Tiberg North and Alexandra Jahr Kolstad}

\maketitle

%------------her starter skrivingen-----------------------------------------
\vspace{1cm}

\tableofcontents

%----------Abstract-------------------------------


\section{Abstract}

%\vspace{2mm}

We have developed an algorithm that computes...

Thomas algorithm, loss of numerical precision (FLOPS)


%--------------Introduction------------------------------
\vspace{1cm}

\section{Introduction}

en introduksjon som sier hva målet er og hva man har gjort. på slutten et kort sammendrag av strukturen til rapporten \\

In this project we are going to get familiar with vectors and matrices in \texttt{C++}. Our group is using the Armadillo package to more easily define and compute with matrices. We are also going to work with and try to understand dynamic memory allocation. The main exercise is grouped into smaller sub exercises ranging from \textbf{a)} to \textbf{e)}. \\

\textbf{Må skrive mer}


%---------------Method------------------------------------
\vspace{1cm}

\section{Method}

  teoretiske modeller og teknikaliteter -> metode (noen beregninger/kodeeksempler underveis) \\
  Her skal man vise at koden fungerer

  må kommentere alt i hele koden -> hva de gjør, hva de betyr

  må inkludere selve koden -> gjøres utenfor selve programmet, gjerne gjennom GitHub

  burde prøve å finne analytiske løsninger eller finne grensene for å teste programmet

  \subsection{Exercise a)}

    In the exercise we are given the equation

    \begin{equation*}
      - \frac{v_{i+1} + v_{i-1} - 2 v_i}{h^2} = f_i \hspace{5mm} \textrm{for} ~  i = 1, 2, 3, ... , n
    \end{equation*}

    Rewrites the equation to
    \begin{align*}
      - (v_{i+1} + v_{i-1} - 2 v_i) &= h^2 f_i = \tilde{b}_i \\
      - v_{i+1} - v_{i-1} + 2 v_i &= \tilde{b}_i
    \end{align*}

    where in the exercise we are also given the correlation $\tilde{b}_i = h^2 f_i$, which is implemented here. \\

    Defines the equation for different values of the integer $i$ to get a set of equations. The exercise also gives the boundry conditions $v_0 = v_{n+1} = 0$.

    \begin{align*}
      i &= 1 : \hspace{5mm} - v_{1+1} - v_{1-1} + 2 v_1 = - v_2 - v_0 + 2 v_1 = - 0 + 2 v_1 - v_2 = \tilde{b}_1 \\
      i &= 2 : \hspace{5mm} - v_{2+1} - v_{2-1} + 2 v_2 = - v_3 - v_1 + 2 v_2 = - v_1 + 2 v_2 - v_3 = \tilde{b}_2 \\
      i &= 3 : \hspace{5mm} - v_{3+1} - v_{3-1} + 2 v_3 = - v_4 - v_2 + 2 v_3 = - v_2 + 2 v_3 - v_4 = \tilde{b}_3 \\
      \vdots \\
      i &= n : \hspace{5mm} - v_{n+1} - v_{n-1} + 2 v_n = - v_{n-1} + 2 v_n - 0 = \tilde{b}_n \\
    \end{align*}

    Equations can be rewritten as a matrix equation, which gives a matrix $A$ with integers as elements, a vector $\vec{v} = [v_1, v_2, v_3, ... , v_n]$ and another vector $\tilde{\vec{b}} = [\tilde{b}_1, \tilde{b}_2, \tilde{b}_3, ... , \tilde{b}_n]$.

    This gives the matrix equation

    \begin{equation*}
      A \vec{v} = \tilde{\vec{b}}
    \end{equation*}

    The matrix and the vectors are given as

    \begin{equation*}
      \begin{bmatrix}
          2 & -1 & 0 & 0 & \dots & 0 \\
          -1 & 2 & -1 & 0 & \dots & 0 \\
          0 & -1 & 2 & -1 & \dots & 0 \\
          \vdots & \vdots & \vdots & \vdots & \ddots & \vdots \\
              0 & 0 & 0 & -1 & 2 & -1 \\
              0 & 0 & 0 & 0 & -1 & 2 \\
      \end{bmatrix}
      \begin{bmatrix}
          v_1 \\
          v_2 \\
          v_3 \\
          \vdots \\
          v_{n-1} \\
          v_n \\
      \end{bmatrix}
      =
      \begin{bmatrix}
          \tilde{b}_1 \\
          \tilde{b}_2 \\
          \tilde{b}_3 \\
          \vdots \\
          \tilde{b}_{n-1} \\
          \tilde{b}_n \\
      \end{bmatrix}
    \end{equation*} \\

    Therefore the matrix equation has been proved. \\


  \subsection{Exercise b)}

    \subsubsection{Calculations}

    i beregningene til erlend på ark er b diagonalelementene, g er b-vektoren og u er v-vektoren. i pythonkoden er d diagonalelementene, b er b-vektoren og v er v-vektoren. med tilde er algoritmediagonal

    For the forward substitution algorithm there are 5 floating point operations.

    For the backward substitution algorithm there are 3 floating point operations.

    The total number of floating point operations is 8. For one iteration.

    For the forward substitution the equations used in the algorithm are

    \begin{align*}
      \tilde{b}_i &= b_i - \frac{a_{i-1} c_{i-1}}{\tilde{b} _{i-1}} \\
      \tilde{g}_i &= g_i - \frac{\tilde{g}_{i-1} a_{i-1}}{\tilde{b}_{i-1}}
    \end{align*}

    with the condition that $\tilde{b}_1 = b_1$.

    For the backward substitution the equation used in the algorithm is

    \begin{align*}
      v_i &= \frac{\tilde{g}_i - c_i v_{i+1}}{\tilde{b}_i}
    \end{align*}

    with the conditions that $v_0 = 0$ and $v_n = \frac{\tilde{g}_n}{\tilde{b}_n}$.

    \subsubsection{The programming}

    Her skal man kommentere programmet til oppgaven


  \subsection{Exercise c)}

    \subsubsection{Calculations}

    The equation for the elements on the diagonal is

    \begin{equation*}
      \tilde{d}_i = d_i - \frac{a_{i-1} c_{i-1}}{\tilde{d}_{i-1}}
    \end{equation*}

    This equation is derived from forward substitution from \textbf{a)}. \\

    With the knowledge that the diagonalelements are $a_1 = a_2 = ... = a_{i-1} = -1 $ and $c_1 = c_2 = ... = c_{i-1} = -1$ we can shorten the equation to the form

    \begin{equation*}
      \tilde{d}_i = d_i - \frac{1}{\tilde{d}_{i-1}}
    \end{equation*}

    When asserting different integer values for $i$ we can compute the elements.

    \begin{align*}
      \tilde{d}_1 &= d_1 = 2 \\
      \tilde{d}_2 &= 2 - \frac{1}{2} = \frac{3}{2} \\
      \tilde{d}_3 &= 2 - \frac{1}{\frac{3}{2}} = \frac{4}{3} \\
      \tilde{d}_4 &= 2 - \frac{1}{\frac{4}{3}} = \frac{5}{4} \\
      \vdots \\
      \tilde{d}_n &= 2 - \frac{1}{1} = 1 \\
    \end{align*}

    From this we can derive a general formula for the diagonalelements

    \begin{equation*}
      \tilde{d}_i = \frac{i+1}{i}
    \end{equation*}

    The equation for forward substitution is

    \begin{equation*}
      \tilde{v}_i = \frac{\tilde{b}_i - c_i v_{i+1}}{\tilde{d}_i}
    \end{equation*}

    We can also shorten this equation with the same knowledge from earlier that $c_1 = c_2 = ... = c_{i-1} = -1$.

    \begin{equation*}
      \tilde{v}_i = \frac{\tilde{b}_i + v_{i+1}}{\tilde{d}_i}
    \end{equation*}

    \subsubsection{The programming}




  \subsection{Exercise d)}




    \subsubsection{Calculations}




    \subsubsection{The programming}




  \subsection{Exercise e)}




    \subsubsection{Calculations}




    \subsubsection{The programming}








%--------------Results and discussion------------------------------
\vspace{1cm}

\section{Results and discussion}

  skal inkludere resultatene enten som figur eller som en tabell

  må nummerere/navngi alle resultatene

  alle resultatene skal ha relevante titler og merkelapper på aksene

  burde evaluere ''troverdigheten'' (reliability) og den numeriske stabiliteten/presisjonen til resultatene

  hvis mulig inkluder en kvalitativ og/eller kvantitativ diskusjon av den numeriske stabiliteten, tap av presisjon osv

  prøve å tolke resultatene i svaret til problemene

  faget ønsker at man skal kommentere oppgavene. hva som var bra, hva som kan være bedre, hva man kan gjøre annerledes \\

  {\bf lime inn resultater av siste gang programmene kjøres} \\


  The codes that were used for exercises \textbf{c)}, \textbf{d)} and \textbf{e)} are respectively \texttt{c-koden.cpp}, \texttt{d-koden.cpp} and \texttt{e-koden.cpp}. For \textbf{b)} there are two codes called \texttt{b-koden.cpp} and \texttt{b-koden.py}.




%---------------Conclusion and perspective---------------------------
\vspace{1cm}

\section{Conclusion and perspective}






%--------------Appendix---------------------------------------------
\vspace{1cm}

\section{Appendix}

  Kan også linke til ekstra materiale på GitHub





%----------------Refrences----------------------------------------
\vspace{1cm}

\section{Refrences}

  Må referere til Thomas Algorithm fordi den er mindre kjent

  Unngå wikipedia -> se på hvilke artikler/bøker de har linket til

  finner bøker/artikler osv ved: universitetsbiblioteket, ''physical review letters of the american physical society''




%----------------Slutten av dokumentet---------------------------------------



\end{document}
